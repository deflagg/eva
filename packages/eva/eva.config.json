{
  "server": {
    "port": 8787,
    "eyePath": "/eye"
  },
  "vision": {
    "wsUrl": "ws://localhost:8000/infer"
  },
  "stream": {
    "broker": {
      "enabled": true,
      "maxFrames": 200,
      "maxAgeMs": 15000,
      "maxBytes": 0
    },
    "visionForward": {
      "enabled": true,
      "sampleEveryN": 2
    }
  },
  "caption": {
    "enabled": true,
    "baseUrl": "http://127.0.0.1:8792",
    "timeoutMs": 1500,
    "cooldownMs": 2000,
    "periodicMs": 8000,
    "dedupeWindowMs": 15000,
    "minSceneSeverity": "medium"
  },
  "motionGate": {
    "enabled": true,
    "thumbW": 350,
    "thumbH": 350,
    "triggerThreshold": 8,
    "resetThreshold": 6,
    "cooldownMs": 1000,
    "minPersistFrames": 2
  },
  "insightRelay": {
    "enabled": true,
    "cooldownMs": 10000,
    "dedupeWindowMs": 60000
  },
  "agent": {
    "baseUrl": "http://127.0.0.1:8791",
    "timeoutMs": 90000
  },
  "text": {
    "enabled": true,
    "path": "/text",
    "maxBodyBytes": 16384,
    "maxTextChars": 4000
  },
  "speech": {
    "enabled": true,
    "path": "/speech",
    "defaultVoice": "en-US-JennyNeural",
    "maxTextChars": 1000,
    "maxBodyBytes": 65536,
    "cooldownMs": 0,
    "cache": {
      "enabled": true,
      "ttlMs": 600000,
      "maxEntries": 64
    }
  },
  "subprocesses": {
    "enabled": true,
    "agent": {
      "enabled": true,
      "cwd": "packages/eva/executive",
      "command": ["npm", "run", "dev"],
      "healthUrl": "http://127.0.0.1:8791/health",
      "readyTimeoutMs": 30000,
      "shutdownTimeoutMs": 5000
    },
    "vision": {
      "enabled": true,
      "cwd": "packages/eva/vision",
      "command": [".venv/bin/python", "-m", "app.run"],
      "healthUrl": "http://127.0.0.1:8000/health",
      "readyTimeoutMs": 60000,
      "shutdownTimeoutMs": 10000
    },
    "captioner": {
      "enabled": true,
      "cwd": "packages/eva/captioner",
      "command": [".venv/bin/python", "-m", "app.run"],
      "healthUrl": "http://127.0.0.1:8792/health",
      "readyTimeoutMs": 120000,
      "shutdownTimeoutMs": 10000
    }
  }
}
